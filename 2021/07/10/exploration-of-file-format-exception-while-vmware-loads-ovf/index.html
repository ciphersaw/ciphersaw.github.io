<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ciphersaw.me","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.13.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="0x00 前言近日，从 Vulnhub 下载了一个靶机镜像 Stapler: 1 作为练习，以巩固攻防实战技巧。谁知，开始之初便受阻，导入镜像所遇问题颇多，特此记录其探解过程，以备待查。">
<meta property="og:type" content="article">
<meta property="og:title" content="VMware 导入 ovf 文件格式异常报错之探解">
<meta property="og:url" content="https://ciphersaw.me/2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/index.html">
<meta property="og:site_name" content="Secrypt Agency">
<meta property="og:description" content="0x00 前言近日，从 Vulnhub 下载了一个靶机镜像 Stapler: 1 作为练习，以巩固攻防实战技巧。谁知，开始之初便受阻，导入镜像所遇问题颇多，特此记录其探解过程，以备待查。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/stapler-zip-download.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/stapler-zip-file-info.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/ovf-files.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/open-ovf.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/open-ovf-error.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/failure-writing-sector.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/services-start-error.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/ovf-solution-1.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/ovf-solution-2.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/dps0243-order-note.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/dps0243-order-example.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/replace-ovf-sha1.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/open-ovf-success.png">
<meta property="og:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/stapler-login.png">
<meta property="article:published_time" content="2021-07-10T04:25:40.000Z">
<meta property="article:modified_time" content="2021-09-30T15:21:34.077Z">
<meta property="article:author" content="Cipher Saw">
<meta property="article:tag" content="Vulnhub">
<meta property="article:tag" content="VM">
<meta property="article:tag" content="VMware">
<meta property="article:tag" content="Solution">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/stapler-zip-download.png">


<link rel="canonical" href="https://ciphersaw.me/2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://ciphersaw.me/2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/","path":"2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/","title":"VMware 导入 ovf 文件格式异常报错之探解"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>VMware 导入 ovf 文件格式异常报错之探解 | Secrypt Agency</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Secrypt Agency</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Welcome to a platform for network security artists.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-friends"><a href="/friends/" rel="section"><i class="fa fa-users fa-fw"></i>Friends</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#0x00-%E5%89%8D%E8%A8%80"><span class="nav-text">0x00 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x01-vmdk-%E5%AF%BC%E5%85%A5%E5%8F%97%E9%98%BB"><span class="nav-text">0x01 vmdk 导入受阻</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E6%89%93%E5%BC%80-ovf-%E5%AF%BC%E5%85%A5-vmdk"><span class="nav-text">通过打开 ovf 导入 vmdk</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E6%96%B0%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AF%BC%E5%85%A5-vmdk"><span class="nav-text">通过新建虚拟机导入 vmdk</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x02-ovf-%E6%8E%A2%E8%80%8C%E5%A4%8D%E4%B9%8B"><span class="nav-text">0x02 ovf 探而复之</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A2%E6%B1%82%E8%AF%AF%E5%9B%A0"><span class="nav-text">探求误因</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E5%A4%8D%E9%AA%8C%E8%AF%81"><span class="nav-text">修复验证</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%89%E5%BE%85%E6%B7%B1%E7%A9%B6"><span class="nav-text">有待深究</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x03-%E5%B0%8F%E7%BB%93"><span class="nav-text">0x03 小结</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Cipher Saw"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Cipher Saw</p>
  <div class="site-description" itemprop="description">Not to be whom you don't want to be.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">29</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">74</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ciphersaw" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ciphersaw" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/CipherSaw" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;CipherSaw" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe-asia fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://ctf-wiki.github.io/ctf-wiki/" title="https:&#x2F;&#x2F;ctf-wiki.github.io&#x2F;ctf-wiki&#x2F;" rel="noopener" target="_blank">CTF Wiki</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.owasp.org/index.php/Main_Page" title="https:&#x2F;&#x2F;www.owasp.org&#x2F;index.php&#x2F;Main_Page" rel="noopener" target="_blank">OWASP</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.pentest-standard.org/index.php/Main_Page" title="http:&#x2F;&#x2F;www.pentest-standard.org&#x2F;index.php&#x2F;Main_Page" rel="noopener" target="_blank">Pentest Standard</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/ciphersaw" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://ciphersaw.me/2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Cipher Saw">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Secrypt Agency">
      <meta itemprop="description" content="Not to be whom you don't want to be.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="VMware 导入 ovf 文件格式异常报错之探解 | Secrypt Agency">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          VMware 导入 ovf 文件格式异常报错之探解
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-07-10 12:25:40" itemprop="dateCreated datePublished" datetime="2021-07-10T12:25:40+08:00">2021-07-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-09-30 23:21:34" itemprop="dateModified" datetime="2021-09-30T23:21:34+08:00">2021-09-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tips/" itemprop="url" rel="index"><span itemprop="name">Tips</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tips/VMware/" itemprop="url" rel="index"><span itemprop="name">VMware</span></a>
        </span>
    </span>

  
    <span id="/2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/" class="post-meta-item leancloud_visitors" data-flag-title="VMware 导入 ovf 文件格式异常报错之探解" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h1><p>近日，从 <a target="_blank" rel="noopener" href="https://www.vulnhub.com/">Vulnhub</a> 下载了一个靶机镜像 <a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/stapler-1,150/">Stapler: 1</a> 作为练习，以巩固攻防实战技巧。谁知，开始之初便受阻，导入镜像所遇问题颇多，特此记录其探解过程，以备待查。</p>
<span id="more"></span>

<p>本文操作环境为 Windows 10 操作系统与 VMware Workstation 15 Pro 虚拟机，其中 VMware OVF Tool 版本为 4.3.0。</p>
<h1 id="0x01-vmdk-导入受阻"><a href="#0x01-vmdk-导入受阻" class="headerlink" title="0x01 vmdk 导入受阻"></a>0x01 vmdk 导入受阻</h1><p>将 Stapler 靶机镜像压缩包下载至本地后，发现其 Stapler 目录下包含三个文件：<code>Stapler-disk1.vmdk</code>、<code>Stapler.ovf</code> 与 <code>Stapler.mf</code>：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/stapler-zip-download.png" alt="stapler-zip-download"></p>
<p>其压缩包的 MD5 与官网上的一致，确认文件完整性无误：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/stapler-zip-file-info.png" alt="stapler-zip-file-info"></p>
<p>上述三个文件的含义及用途如下：</p>
<ul>
<li><code>.vmdk</code>：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/VMDK">虚拟机硬盘格式（Virtual Machine Disk Format）</a>，用于存储所有用户数据与虚拟服务器配置，即虚拟机磁盘镜像。</li>
<li><code>.ovf</code>：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Open_Virtualization_Format">开放虚拟化格式（Open Virtualization Format）</a>，用于实现虚拟机在不同的虚拟化平台之间的转移，为业界提供了一种针对虚拟机打包和发布的开放标准，是一个包含了虚拟机元数据（虚拟机名称、硬件配置、镜像引用等）的 XML 文件。</li>
<li><code>.mf</code>：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Manifest_file">清单文件（Manifest File）</a>，用于记录包内其他文件的 SHA-1 散列值，以校验其完整性。</li>
</ul>
<p>相关文件的完整释义见下图，并可参考：<a target="_blank" rel="noopener" href="https://docs.citrix.com/en-us/xencenter/7-1/vms-exportimport-ovf.html">Open Virtualization Format (OVF and OVA)</a></p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/ovf-files.png" alt="ovf-files"></p>
<h2 id="通过打开-ovf-导入-vmdk"><a href="#通过打开-ovf-导入-vmdk" class="headerlink" title="通过打开 ovf 导入 vmdk"></a>通过打开 ovf 导入 vmdk</h2><p>首先，采用常规方式，通过 VMware 打开 ovf 文件来导入 vmdk。依次点击 VMware 左上角的 <strong>文件 -&gt; 打开</strong>，选中解压目录下的 <code>Stapler.ovf</code> 文件：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/open-ovf.png" alt="open-ovf"></p>
<p>接着点击 <strong>打开</strong>，发现 VMware 弹出以下报错：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/open-ovf-error.png" alt="open-ovf-error"></p>
<p>大意为不支持 <code>Caption</code> 元素、缺少 <code>ElementName</code> 子元素等。</p>
<h2 id="通过新建虚拟机导入-vmdk"><a href="#通过新建虚拟机导入-vmdk" class="headerlink" title="通过新建虚拟机导入 vmdk"></a>通过新建虚拟机导入 vmdk</h2><p>既然常规方法受阻，则需另辟蹊径，直接通过新建虚拟机来导入 vmdk。</p>
<p>由于导入方法步骤繁多，此处不展开说明，具体请参考：<a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/9113f81b2796852b3214c705.html">VMware通过vmdk文件创建虚拟机</a></p>
<p>虽然 vmdk 导入成功，但虚拟机却启动失败。点击 <strong>开启此虚拟机</strong>，只见终端出现 <code>error: failure writing sector 0xec800 to `hd0&#39;.</code> 报错：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/failure-writing-sector.png" alt="failure-writing-sector"></p>
<p>按下任意键继续执行，发现 Apache、PHP、MySQL 等模块启动失败，迟迟无法加载进入登录界面：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/services-start-error.png" alt="services-start-error"></p>
<h1 id="0x02-ovf-探而复之"><a href="#0x02-ovf-探而复之" class="headerlink" title="0x02 ovf 探而复之"></a>0x02 ovf 探而复之</h1><p>镜像导入失败，本人略显无奈。还好，功夫不负有心人，终于找到一种解法，能够通过打开 ovf 导入 vmdk。</p>
<h2 id="探求误因"><a href="#探求误因" class="headerlink" title="探求误因"></a>探求误因</h2><p>经探究，在 <a target="_blank" rel="noopener" href="https://communities.vmware.com/t5/Open-Virtualization-Format-Tool/Converting-OVF-file-using-ovftool-from-VirtualBox-produces-error/td-p/1179450">Converting OVF file using ovftool from VirtualBox produces error “Line 39: Unsupported element ‘Caption’” and many more errors</a> 帖子中遇到类似问题，其中一条评论提到，需要调整 ovf 文件中 <code>&lt;Item&gt;</code> 子元素的顺序：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/ovf-solution-1.png" alt="ovf-solution-1"></p>
<p>类似地，在 <a target="_blank" rel="noopener" href="https://communities.vmware.com/t5/Open-Virtualization-Format-Tool/Issues-with-OVF-Template/td-p/2606134">Issues with OVF Template</a> 帖子中同样有人提到，RASD 元素字段必须以字母顺序排列：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/ovf-solution-2.png" alt="ovf-solution-2"></p>
<p>根据以上线索，查找 ovf 文件格式的相关标准，终于在 <a target="_blank" rel="noopener" href="https://www.dmtf.org/sites/default/files/standards/documents/DSP0243_2.1.0.pdf">Open Virtualization Format Specification (DSP0243_2.1.0)</a> 文档中的第 8 章找到解释说明，图中 CIM 类的 XML 元素应该按照 Unicode 码位顺序排列：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/dps0243-order-note.png" alt="dps0243-order-note"></p>
<p>并给出了参考样例，注意到 <code>&lt;Item&gt;</code> 子元素确实是按字母顺序排列：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/dps0243-order-example.png" alt="dps0243-order-example"></p>
<p>回头检查压缩包中的 <code>Stapler.ovf</code> 文件，发现在 <code>&lt;Envelope&gt;</code> 元素中引入了 <code>CIM_ResourceAllocationSettingData</code> 类的命名空间，并且 <code>&lt;Item&gt;</code> 子元素默认为乱序排列，与上述两帖中遇到的问题基本吻合：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Generated by VMware ovftool 4.1.0 (build-3018522), UTC time: 2016-06-07T10:02:55.518806Z--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Envelope</span> <span class="attr">vmw:buildId</span>=<span class="string">&quot;build-3018522&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://schemas.dmtf.org/ovf/envelope/1&quot;</span> <span class="attr">xmlns:cim</span>=<span class="string">&quot;http://schemas.dmtf.org/wbem/wscim/1/common&quot;</span> <span class="attr">xmlns:ovf</span>=<span class="string">&quot;http://schemas.dmtf.org/ovf/envelope/1&quot;</span> <span class="attr">xmlns:rasd</span>=<span class="string">&quot;http://schemas.dmtf.org/wbem/wscim/1/cim-schema/2/CIM_ResourceAllocationSettingData&quot;</span> <span class="attr">xmlns:vmw</span>=<span class="string">&quot;http://www.vmware.com/schema/ovf&quot;</span> <span class="attr">xmlns:vssd</span>=<span class="string">&quot;http://schemas.dmtf.org/wbem/wscim/1/cim-schema/2/CIM_VirtualSystemSettingData&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">References</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">File</span> <span class="attr">ovf:href</span>=<span class="string">&quot;Stapler-disk1.vmdk&quot;</span> <span class="attr">ovf:id</span>=<span class="string">&quot;file1&quot;</span> <span class="attr">ovf:size</span>=<span class="string">&quot;757926912&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">References</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">DiskSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Info</span>&gt;</span>Virtual disk information<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Disk</span> <span class="attr">ovf:capacity</span>=<span class="string">&quot;20&quot;</span> <span class="attr">ovf:capacityAllocationUnits</span>=<span class="string">&quot;byte * 2^30&quot;</span> <span class="attr">ovf:diskId</span>=<span class="string">&quot;vmdisk1&quot;</span> <span class="attr">ovf:fileRef</span>=<span class="string">&quot;file1&quot;</span> <span class="attr">ovf:format</span>=<span class="string">&quot;http://www.vmware.com/interfaces/specifications/vmdk.html#streamOptimized&quot;</span> <span class="attr">ovf:populatedSize</span>=<span class="string">&quot;2212560896&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">DiskSection</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">NetworkSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Info</span>&gt;</span>The list of logical networks<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Network</span> <span class="attr">ovf:name</span>=<span class="string">&quot;hostonly&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Description</span>&gt;</span>The hostonly network<span class="tag">&lt;/<span class="name">Description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Network</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">NetworkSection</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">VirtualSystem</span> <span class="attr">ovf:id</span>=<span class="string">&quot;vm&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Info</span>&gt;</span>A virtual machine<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Name</span>&gt;</span>Stapler<span class="tag">&lt;/<span class="name">Name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">OperatingSystemSection</span> <span class="attr">ovf:id</span>=<span class="string">&quot;93&quot;</span> <span class="attr">vmw:osType</span>=<span class="string">&quot;ubuntuGuest&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Info</span>&gt;</span>The kind of installed guest operating system<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">OperatingSystemSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VirtualHardwareSection</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Info</span>&gt;</span>Virtual hardware requirements<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">System</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:Caption</span>&gt;</span>Virtual Hardware Family<span class="tag">&lt;/<span class="name">vssd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:InstanceID</span>&gt;</span>0<span class="tag">&lt;/<span class="name">vssd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:VirtualSystemIdentifier</span>&gt;</span>Stapler<span class="tag">&lt;/<span class="name">vssd:VirtualSystemIdentifier</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:VirtualSystemType</span>&gt;</span>vmx-11<span class="tag">&lt;/<span class="name">vssd:VirtualSystemType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">System</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AllocationUnits</span>&gt;</span>hertz * 10^6<span class="tag">&lt;/<span class="name">rasd:AllocationUnits</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>Number of Virtual CPUs<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>1 virtual CPU(s)<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:VirtualQuantity</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:VirtualQuantity</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AllocationUnits</span>&gt;</span>byte * 2^20<span class="tag">&lt;/<span class="name">rasd:AllocationUnits</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>Memory Size<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>1024MB of memory<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>2<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>4<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:VirtualQuantity</span>&gt;</span>1024<span class="tag">&lt;/<span class="name">rasd:VirtualQuantity</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Address</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:Address</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>SATA Controller<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>sataController0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>AHCI<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>20<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Address</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:Address</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>USB Controller (EHCI)<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>usb<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>4<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>vmware.usb.ehci<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>23<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;ehciEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Address</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:Address</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>SCSI Controller<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>scsiController0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>5<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>lsilogic<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>6<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AddressOnParent</span>&gt;</span>2<span class="tag">&lt;/<span class="name">rasd:AddressOnParent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Connection</span>&gt;</span>hostonly<span class="tag">&lt;/<span class="name">rasd:Connection</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>PCNet32 ethernet adapter on <span class="symbol">&amp;quot;</span>hostonly<span class="symbol">&amp;quot;</span><span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>ethernet0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>6<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>PCNet32<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>10<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;wakeOnLanEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>video<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>7<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>24<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;enable3DSupport&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>vmci<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>8<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>vmware.vmci<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AddressOnParent</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:AddressOnParent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>disk0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:HostResource</span>&gt;</span>ovf:/disk/vmdisk1<span class="tag">&lt;/<span class="name">rasd:HostResource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>9<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Parent</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:Parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>17<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AddressOnParent</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:AddressOnParent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>cdrom0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>10<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Parent</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:Parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>15<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;cpuHotAddEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;memoryHotAddEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;powerOpInfo.powerOffType&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;soft&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;powerOpInfo.resetType&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;soft&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;powerOpInfo.suspendType&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;soft&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.afterPowerOn&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.afterResume&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.beforeGuestShutdown&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.beforeGuestStandby&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.syncTimeWithHost&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.toolsUpgradePolicy&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;upgradeAtPowerCycle&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">VirtualHardwareSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AnnotationSection</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Info</span>&gt;</span>A human-readable annotation<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Annotation</span>&gt;</span>--[[~~Enjoy. Have fun. Happy Hacking.~~]]--</span><br><span class="line"></span><br><span class="line">+ There are multiple methods to-do this machine: At least</span><br><span class="line">-- Two (2) paths to get a limited shell</span><br><span class="line">-- At least three (3) ways to get a root access<span class="tag">&lt;/<span class="name">Annotation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">AnnotationSection</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">VirtualSystem</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Envelope</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="修复验证"><a href="#修复验证" class="headerlink" title="修复验证"></a>修复验证</h2><p>根据 DSP0243 标准文档中的规则，主要调整了 <code>&lt;rasd:Caption&gt;</code> 元素与 <code>&lt;rasd:Description&gt;</code> 元素的顺序，将 <code>Stapler.ovf</code> 文件恢复为正确排列格式：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Generated by VMware ovftool 4.1.0 (build-3018522), UTC time: 2016-06-07T10:02:55.518806Z--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Envelope</span> <span class="attr">vmw:buildId</span>=<span class="string">&quot;build-3018522&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://schemas.dmtf.org/ovf/envelope/1&quot;</span> <span class="attr">xmlns:cim</span>=<span class="string">&quot;http://schemas.dmtf.org/wbem/wscim/1/common&quot;</span> <span class="attr">xmlns:ovf</span>=<span class="string">&quot;http://schemas.dmtf.org/ovf/envelope/1&quot;</span> <span class="attr">xmlns:rasd</span>=<span class="string">&quot;http://schemas.dmtf.org/wbem/wscim/1/cim-schema/2/CIM_ResourceAllocationSettingData&quot;</span> <span class="attr">xmlns:vmw</span>=<span class="string">&quot;http://www.vmware.com/schema/ovf&quot;</span> <span class="attr">xmlns:vssd</span>=<span class="string">&quot;http://schemas.dmtf.org/wbem/wscim/1/cim-schema/2/CIM_VirtualSystemSettingData&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">References</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">File</span> <span class="attr">ovf:href</span>=<span class="string">&quot;Stapler-disk1.vmdk&quot;</span> <span class="attr">ovf:id</span>=<span class="string">&quot;file1&quot;</span> <span class="attr">ovf:size</span>=<span class="string">&quot;757926912&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">References</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">DiskSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Info</span>&gt;</span>Virtual disk information<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Disk</span> <span class="attr">ovf:capacity</span>=<span class="string">&quot;20&quot;</span> <span class="attr">ovf:capacityAllocationUnits</span>=<span class="string">&quot;byte * 2^30&quot;</span> <span class="attr">ovf:diskId</span>=<span class="string">&quot;vmdisk1&quot;</span> <span class="attr">ovf:fileRef</span>=<span class="string">&quot;file1&quot;</span> <span class="attr">ovf:format</span>=<span class="string">&quot;http://www.vmware.com/interfaces/specifications/vmdk.html#streamOptimized&quot;</span> <span class="attr">ovf:populatedSize</span>=<span class="string">&quot;2212560896&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">DiskSection</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">NetworkSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Info</span>&gt;</span>The list of logical networks<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Network</span> <span class="attr">ovf:name</span>=<span class="string">&quot;hostonly&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Description</span>&gt;</span>The hostonly network<span class="tag">&lt;/<span class="name">Description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Network</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">NetworkSection</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">VirtualSystem</span> <span class="attr">ovf:id</span>=<span class="string">&quot;vm&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Info</span>&gt;</span>A virtual machine<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Name</span>&gt;</span>Stapler<span class="tag">&lt;/<span class="name">Name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">OperatingSystemSection</span> <span class="attr">ovf:id</span>=<span class="string">&quot;93&quot;</span> <span class="attr">vmw:osType</span>=<span class="string">&quot;ubuntuGuest&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Info</span>&gt;</span>The kind of installed guest operating system<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">OperatingSystemSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VirtualHardwareSection</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Info</span>&gt;</span>Virtual hardware requirements<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">System</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:Caption</span>&gt;</span>Virtual Hardware Family<span class="tag">&lt;/<span class="name">vssd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:InstanceID</span>&gt;</span>0<span class="tag">&lt;/<span class="name">vssd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:VirtualSystemIdentifier</span>&gt;</span>Stapler<span class="tag">&lt;/<span class="name">vssd:VirtualSystemIdentifier</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vssd:VirtualSystemType</span>&gt;</span>vmx-15<span class="tag">&lt;/<span class="name">vssd:VirtualSystemType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">System</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AllocationUnits</span>&gt;</span>hertz * 10^6<span class="tag">&lt;/<span class="name">rasd:AllocationUnits</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>1 virtual CPU(s)<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>Number of Virtual CPUs<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:VirtualQuantity</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:VirtualQuantity</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AllocationUnits</span>&gt;</span>byte * 2^20<span class="tag">&lt;/<span class="name">rasd:AllocationUnits</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>1024MB of memory<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>Memory Size<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>2<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>4<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:VirtualQuantity</span>&gt;</span>1024<span class="tag">&lt;/<span class="name">rasd:VirtualQuantity</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Address</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:Address</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>sataController0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>SATA Controller<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>AHCI<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>20<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Address</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:Address</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>usb<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>USB Controller (EHCI)<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>4<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>vmware.usb.ehci<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>23<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;ehciEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Address</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:Address</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>scsiController0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>SCSI Controller<span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>5<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>lsilogic<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>6<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AddressOnParent</span>&gt;</span>2<span class="tag">&lt;/<span class="name">rasd:AddressOnParent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>ethernet0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Connection</span>&gt;</span>hostonly<span class="tag">&lt;/<span class="name">rasd:Connection</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Description</span>&gt;</span>PCNet32 ethernet adapter on <span class="symbol">&amp;quot;</span>hostonly<span class="symbol">&amp;quot;</span><span class="tag">&lt;/<span class="name">rasd:Description</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>6<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>PCNet32<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>10<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;wakeOnLanEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>video<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>7<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>24<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;enable3DSupport&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>vmci<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>8<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceSubType</span>&gt;</span>vmware.vmci<span class="tag">&lt;/<span class="name">rasd:ResourceSubType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AddressOnParent</span>&gt;</span>0<span class="tag">&lt;/<span class="name">rasd:AddressOnParent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>disk0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:HostResource</span>&gt;</span>ovf:/disk/vmdisk1<span class="tag">&lt;/<span class="name">rasd:HostResource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>9<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Parent</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:Parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>17<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AddressOnParent</span>&gt;</span>1<span class="tag">&lt;/<span class="name">rasd:AddressOnParent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:AutomaticAllocation</span>&gt;</span>false<span class="tag">&lt;/<span class="name">rasd:AutomaticAllocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Caption</span>&gt;</span>cdrom0<span class="tag">&lt;/<span class="name">rasd:Caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:InstanceID</span>&gt;</span>10<span class="tag">&lt;/<span class="name">rasd:InstanceID</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:Parent</span>&gt;</span>3<span class="tag">&lt;/<span class="name">rasd:Parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rasd:ResourceType</span>&gt;</span>15<span class="tag">&lt;/<span class="name">rasd:ResourceType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;slotInfo.pciSlotNumber&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;33&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;cpuHotAddEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;memoryHotAddEnabled&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;powerOpInfo.powerOffType&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;soft&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;powerOpInfo.resetType&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;soft&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;powerOpInfo.suspendType&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;soft&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.afterPowerOn&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.afterResume&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.beforeGuestShutdown&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.beforeGuestStandby&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.syncTimeWithHost&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">vmw:Config</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span> <span class="attr">vmw:key</span>=<span class="string">&quot;tools.toolsUpgradePolicy&quot;</span> <span class="attr">vmw:value</span>=<span class="string">&quot;upgradeAtPowerCycle&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">VirtualHardwareSection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AnnotationSection</span> <span class="attr">ovf:required</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Info</span>&gt;</span>A human-readable annotation<span class="tag">&lt;/<span class="name">Info</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Annotation</span>&gt;</span>--[[~~Enjoy. Have fun. Happy Hacking.~~]]--</span><br><span class="line"></span><br><span class="line">+ There are multiple methods to-do this machine: At least</span><br><span class="line">-- Two (2) paths to get a limited shell</span><br><span class="line">-- At least three (3) ways to get a root access<span class="tag">&lt;/<span class="name">Annotation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">AnnotationSection</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">VirtualSystem</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Envelope</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更新 <code>Stapler.ovf</code> 文件后，切记需重新计算其 SHA-1 散列值，并在 <code>Stapler.mf</code> 文件中替换，否则无法通过文件完整性校验：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/replace-ovf-sha1.png" alt="replace-ovf-sha1"></p>
<p>完成以上步骤后，再次打开 <code>Stapler.ovf</code> 文件，发现不再报错，并提示导入虚拟机：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/open-ovf-success.png" alt="open-ovf-success"></p>
<p>选择虚拟机存储路径后，导入并开机，最终成功初始化，出现了 Stapler 靶机的登录界面：</p>
<p><img src="https://blog-1255335783.cos.ap-guangzhou.myqcloud.com/exploration-of-file-format-exception-while-vmware-loads-ovf/stapler-login.png" alt="stapler-login"></p>
<h2 id="有待深究"><a href="#有待深究" class="headerlink" title="有待深究"></a>有待深究</h2><p>至此，镜像导入问题暂时得到解决，不过仍留有两处问题，有待深究：</p>
<ul>
<li>Stapler 的镜像提供者，在用 VMware 导入镜像时，其 ovf 文件为什么不是按标准格式排序，而是乱序？</li>
<li>为什么通过新建虚拟机导入 vmdk 会初始化失败？</li>
</ul>
<h1 id="0x03-小结"><a href="#0x03-小结" class="headerlink" title="0x03 小结"></a>0x03 小结</h1><p>由于本人时间精力有限，此文旨在记录 VMware 镜像导入问题的解决过程，对部分问题未能继续深究，望谅解。文中不足之处，还请各位不吝赐教，感谢阅读！</p>
<p>本文相关参考请见：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://nolabnoparty.com/en/vmware-fix-invalid-ovf-manifest-entry-error/">VMware fix “Invalid OVF manifest entry” error</a><br><a target="_blank" rel="noopener" href="https://sites.google.com/site/vblog77/notes/ovf-ova">Difference between OVA and OVF</a><br><a target="_blank" rel="noopener" href="https://docs.citrix.com/en-us/xencenter/7-1/vms-exportimport-ovf.html">Open Virtualization Format (OVF and OVA)</a><br><a target="_blank" rel="noopener" href="https://www.dmtf.org/sites/default/files/standards/documents/DSP0243_1.1.0.pdf">Open Virtualization Format Specification (DSP0243_1.1.0)</a><br><a target="_blank" rel="noopener" href="https://www.dmtf.org/sites/default/files/standards/documents/DSP0243_2.0.0.pdf">Open Virtualization Format Specification (DSP0243_2.0.0)</a></p>
</blockquote>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>Cipher Saw
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://ciphersaw.me/2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/" title="VMware 导入 ovf 文件格式异常报错之探解">https://ciphersaw.me/2021/07/10/exploration-of-file-format-exception-while-vmware-loads-ovf/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Vulnhub/" rel="tag"># Vulnhub</a>
              <a href="/tags/VM/" rel="tag"># VM</a>
              <a href="/tags/VMware/" rel="tag"># VMware</a>
              <a href="/tags/Solution/" rel="tag"># Solution</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/05/23/record-of-newbie-developer-taking-over-project-for-colleague-quitting/" rel="prev" title="萌新开发接手大佬项目初体验">
                  <i class="fa fa-chevron-left"></i> 萌新开发接手大佬项目初体验
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/08/29/vulnhub-stapler-1/" rel="next" title="【Vulnhub】 Stapler：1">
                  【Vulnhub】 Stapler：1 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-space-shuttle"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cipher Saw</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>


  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"KWe6NtO4vhgQR3IfB99JElre-gzGzoHsz","app_key":"7nrrRDyHHUMcx03upUALYKIQ","server_url":null,"security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"ciphersaw","count":false,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
